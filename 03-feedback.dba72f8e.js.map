{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SACMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAQF,SAASC,cAAc,uBAC/BE,EAAUH,SAASC,cAAc,YAEjCG,EAAmB,sBAEzBL,EAAKM,iBAAiB,SAAS,EAAAR,EAAAS,WAE/B,SAA0BC,GACxB,IAAMC,EAAgB,CACpBC,MAAOV,EAAKW,SAASD,MAAME,MAC3BC,QAASb,EAAKW,SAASE,QAAQD,OAEjC,IACEE,aAAaC,QAAQV,EAAkBW,KAAKC,UAAUR,G,CACtD,MAAOS,GACPC,QAAQD,MAAM,UAAWA,EAAML,Q,IAVuB,MAc1Db,EAAKM,iBAAiB,UAEtB,SAAuBE,GACrBA,EAAMY,iBAEN,IAEuBC,EAAnBb,EAAMc,cADRX,SAAYY,EAAKF,EAALX,MAAOc,EAAOH,EAAPR,QAErB,GAAoB,KAAhBU,EAAMX,OAAkC,KAAlBY,EAAQZ,MAChC,OAAOa,MAAM,wDAEfN,QAAQO,IAAI,CAAEhB,MAAOa,EAAMX,MAAOC,QAASW,EAAQZ,QAEnDJ,EAAMc,cAAcK,QACpBb,aAAac,O,IAGf,WACE,IACE,IAAMC,EAAUb,KAAKc,MAAMhB,aAAaiB,QAAQ1B,IAEhC,OAAZwB,IACF1B,EAAMS,MAAQiB,EAAQnB,MACtBN,EAAQQ,MAAQiB,EAAQhB,Q,CAE1B,MAAOK,GACPC,QAAQD,MAAM,UAAWA,EAAML,Q,EAGnCmB,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\nconst form = document.querySelector('.feedback-form');\nconst email = document.querySelector('input[name=\"email\"]');\nconst message = document.querySelector('textarea');\n\nconst LOCALSTORAGE_KEY = 'feedback-form-state';\n\nform.addEventListener('input', throttle(saveInputMessage, 500));\n\nfunction saveInputMessage(event) {\n  const saveFormInput = {\n    email: form.elements.email.value,\n    message: form.elements.message.value,\n  };\n  try {\n    localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(saveFormInput));\n  } catch (error) {\n    console.error('error: ', error.message);\n  }\n}\n\nform.addEventListener('submit', submitMessage);\n\nfunction submitMessage(event) {\n  event.preventDefault();\n\n  const {\n    elements: { email, message },\n  } = event.currentTarget;\n  if (email.value === '' || message.value === '') {\n    return alert('Check the entered data - all fields must be filled! ');\n  }\n  console.log({ email: email.value, message: message.value });\n\n  event.currentTarget.reset();\n  localStorage.clear();\n}\n\nfunction savedForm() {\n  try {\n    const storage = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY));\n\n    if (storage !== null) {\n      email.value = storage.email;\n      message.value = storage.message;\n    }\n  } catch (error) {\n    console.error('error: ', error.message);\n  }\n}\nsavedForm();\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$email","$b00c40859be242c5$var$message","$b00c40859be242c5$var$LOCALSTORAGE_KEY","addEventListener","throttle","event","saveFormInput","email","elements","value","message","localStorage","setItem","JSON","stringify","error","console","preventDefault","_elements","currentTarget","email1","message1","alert","log","reset","clear","storage","parse","getItem","$b00c40859be242c5$var$savedForm"],"version":3,"file":"03-feedback.dba72f8e.js.map"}