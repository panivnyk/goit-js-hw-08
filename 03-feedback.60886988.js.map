{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAQF,SAASC,cAAc,uBAC/BE,EAAUH,SAASC,cAAc,YAIvCF,EAAKK,iBAAiB,SAAS,EAAAP,EAAAQ,WAE/B,SAA0BC,GACxB,MAAMC,EAAgB,CACpBC,MAAOT,EAAKU,SAASD,MAAME,MAC3BC,QAASZ,EAAKU,SAASE,QAAQD,OAEjC,IACEE,aAAaC,QAVQ,sBAUkBC,KAAKC,UAAUR,G,CACtD,MAAOS,GACPC,QAAQD,MAAM,UAAWA,EAAML,Q,IAVuB,MAc1DZ,EAAKK,iBAAiB,UAEtB,SAAuBE,GACrBA,EAAMY,iBAEN,MACET,UAAYD,MAAAW,EAAOR,QAAAS,IACjBd,EAAMe,cACV,GAAoB,KAAhBF,EAAMT,OAAkC,KAAlBU,EAAQV,MAChC,OAAOY,MAAM,wDAEfL,QAAQM,IAAI,CAAEf,MAAOW,EAAMT,MAAOC,QAASS,EAAQV,QAEnDJ,EAAMe,cAAcG,QACpBZ,aAAaa,O,IAGf,WACE,IACE,MAAMC,EAAUZ,KAAKa,MAAMf,aAAagB,QAnCnB,wBAqCL,OAAZF,IACFxB,EAAMQ,MAAQgB,EAAQlB,MACtBL,EAAQO,MAAQgB,EAAQf,Q,CAE1B,MAAOK,GACPC,QAAQD,MAAM,UAAWA,EAAML,Q,EAGnCkB","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\nconst form = document.querySelector('.feedback-form');\nconst email = document.querySelector('input[name=\"email\"]');\nconst message = document.querySelector('textarea');\n\nconst LOCALSTORAGE_KEY = 'feedback-form-state';\n\nform.addEventListener('input', throttle(saveInputMessage, 500));\n\nfunction saveInputMessage(event) {\n  const saveFormInput = {\n    email: form.elements.email.value,\n    message: form.elements.message.value,\n  };\n  try {\n    localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(saveFormInput));\n  } catch (error) {\n    console.error('error: ', error.message);\n  }\n}\n\nform.addEventListener('submit', submitMessage);\n\nfunction submitMessage(event) {\n  event.preventDefault();\n\n  const {\n    elements: { email, message },\n  } = event.currentTarget;\n  if (email.value === '' || message.value === '') {\n    return alert('Check the entered data - all fields must be filled! ');\n  }\n  console.log({ email: email.value, message: message.value });\n\n  event.currentTarget.reset();\n  localStorage.clear();\n}\n\nfunction savedForm() {\n  try {\n    const storage = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY));\n\n    if (storage !== null) {\n      email.value = storage.email;\n      message.value = storage.message;\n    }\n  } catch (error) {\n    console.error('error: ', error.message);\n  }\n}\nsavedForm();\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$email","$945622fd0f572e60$var$message","addEventListener","throttle","event","saveFormInput","email","elements","value","message","localStorage","setItem","JSON","stringify","error","console","preventDefault","email1","message1","currentTarget","alert","log","reset","clear","storage","parse","getItem","$945622fd0f572e60$var$savedForm"],"version":3,"file":"03-feedback.60886988.js.map"}